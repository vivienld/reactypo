{"ast":null,"code":"import t, { Component as s } from \"react\";\nconst i = {\n  display: \"inline-block\"\n};\n\nclass e extends s {\n  constructor(t) {\n    super(t), this.str = (this.props.children || \"\").replaceAll(\" \", \" \");\n  }\n\n  componentDidMount() {\n    this.props.parent || (this.init(), this.run());\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  init() {\n    var t;\n    this.iteration = !this.props.rewind || null !== (t = this.props.parent) && void 0 !== t && t.props.rewind ? 0 : this.str.length - 1, this.stopped = !1, this.setState({\n      display: null\n    }), this.onStart();\n  }\n\n  run() {\n    var t;\n    const s = this.props.pause || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pause) || 0;\n    setTimeout(() => {\n      this.updateInterval();\n    }, s);\n  }\n\n  updateInterval() {\n    var t, s;\n    clearInterval(this.interval);\n    let i = \" \" != this.str[this.iteration] ? this.props.pace || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pace) || 40 : this.props.whiteSpacePace || (null === (s = this.props.parent) || void 0 === s ? void 0 : s.props.whiteSpacePace) || this.props.pace || 40;\n    this.interval = setInterval(() => this.play(), i);\n  }\n\n  checkForWhiteSpace() {\n    (\" \" == this.str[this.iteration] && \" \" != this.lastChar || \" \" != this.str[this.iteration] && \" \" == this.lastChar) && this.updateInterval(), this.lastChar = this.str[this.iteration];\n  }\n\n  play() {\n    if (this.checkForWhiteSpace(), !this.stopped) {\n      var s, e;\n      const r = this.props.stamp || (null === (s = this.props.parent) || void 0 === s ? void 0 : s.props.stamp),\n            p = this.props.rewind || (null === (e = this.props.parent) || void 0 === e ? void 0 : e.props.rewind);\n      if (r) this.setState({\n        display: t.createElement(\"span\", {\n          style: i,\n          className: this.props.charClassName,\n          key: Date.now()\n        }, this.str)\n      }, () => {\n        this.iteration = p ? 0 : this.props.children.length - 1, this.onChar(), this.stop();\n      });else {\n        const s = this.str.substr(0, this.iteration + 1).split(\"\");\n        let e;\n        p ? (e = s.map((s, i) => t.createElement(\"span\", {\n          className: this.props.charClassName,\n          style: {\n            display: \"inline-block\",\n            animation: \"none\"\n          },\n          key: i\n        }, s)), e.pop(), e.push(t.createElement(\"span\", {\n          style: i,\n          className: this.props.charClassName,\n          key: Date.now()\n        }, s.slice(-1)))) : e = s.map((s, e) => t.createElement(\"span\", {\n          style: i,\n          className: this.props.charClassName,\n          key: e\n        }, s)), this.setState({\n          display: e\n        }, () => {\n          this.iteration += p ? -1 : 1, p && this.iteration < -1 || !p && this.iteration > this.str.length ? this.stop() : this.onChar();\n        });\n      }\n    }\n  }\n\n  replay() {\n    this.init(), this.run();\n  }\n\n  show() {\n    this.setState({\n      display: this.str.split(\"\").map((s, e) => t.createElement(\"span\", {\n        style: i,\n        key: e\n      }, s))\n    });\n  }\n\n  stop() {\n    this.props.loop ? this.replay() : (this.stopped = !0, this.onStop());\n  }\n\n  onStart() {\n    var t, s;\n    null === (t = (s = this.props).onStart) || void 0 === t || t.call(s, this);\n  }\n\n  onChar() {\n    var t, s, i, e, r, p;\n    const o = (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.rewind) || this.props.rewind ? this.str[this.iteration + 1] : this.str[this.iteration - 1];\n    null === (s = (i = this.props).onChar) || void 0 === s || s.call(i, o, this), null === (e = this.props.parent) || void 0 === e || null === (r = (p = e.props).onChar) || void 0 === r || r.call(p, o, this.props.parent);\n  }\n\n  onStop() {\n    var t, s, i, e;\n    clearInterval(this.interval), null === (t = (s = this.props).onStop) || void 0 === t || t.call(s, this), null === (i = this.props) || void 0 === i || null === (e = i.parent) || void 0 === e || e.play();\n  }\n\n  render() {\n    var s;\n    return t.createElement(\"div\", {\n      className: this.props.className,\n      style: {\n        display: this.props.block ? \"block\" : \"inline-block\"\n      }\n    }, (null === (s = this.state) || void 0 === s ? void 0 : s.display) || \" \");\n  }\n\n}\n\nclass r extends s {\n  constructor(t) {\n    super(t), this.textRefs = [], t.first && (r.first = this), this.init();\n  }\n\n  static play(t) {\n    var s;\n    null === (s = r.typos.get(t)) || void 0 === s || s.replay();\n  }\n\n  static stop(t) {\n    var s;\n    null === (s = r.typos.get(t)) || void 0 === s || s.stop();\n  }\n\n  componentDidMount() {\n    this.props.stop || Array.from(r.typos.values()).some(t => t.props.next == this.name) && r.first == this && (console.log(this.name), this.init(), this.play());\n  }\n\n  init() {\n    this.initiated = !1, this.textRefs.forEach(t => {\n      var s;\n      return null === (s = t.current) || void 0 === s ? void 0 : s.init();\n    }), this.texts = t.Children.map(this.props.children, s => {\n      let i = t.createRef();\n      return this.textRefs.push(i), t.createElement(e, Object.assign({}, s.props, {\n        ref: i,\n        parent: this,\n        rewind: this.props.rewind || s.props.rewind\n      }), s.props.children || \"\");\n    }), this.iteration = this.props.rewind ? 1 == this.texts.length ? 0 : this.texts.length - 1 : 0, this.name = this.props.name || \"_\" + Math.random().toString(36).substr(2, 9), r.typos.set(this.name, this);\n  }\n\n  play() {\n    if (this.initiated || (this.onStart(), this.initiated = !0), this.props.rewind && this.iteration < 0 || !this.props.rewind && this.iteration > this.texts.length - 1) this.stop();else {\n      var t, s, i, e;\n      if (this.props.rewind) for (let t = this.iteration; t >= 0; t--) {\n        var r;\n        null === (r = this.textRefs[t].current) || void 0 === r || r.show();\n      }\n      null === (t = this.textRefs[this.iteration]) || void 0 === t || null === (s = t.current) || void 0 === s || s.init(), null === (i = this.textRefs[this.iteration]) || void 0 === i || null === (e = i.current) || void 0 === e || e.run(), this.iteration += this.props.rewind ? -1 : 1, this.onText();\n    }\n  }\n\n  replay() {\n    this.init(), this.play();\n  }\n\n  stop() {\n    this.onStop();\n  }\n\n  onStart() {\n    var t, s;\n    null === (t = (s = this.props).onStart) || void 0 === t || t.call(s, this);\n  }\n\n  onText() {\n    var t, s;\n    const i = this.props.rewind ? null === (t = this.textRefs[this.iteration + 1]) || void 0 === t ? void 0 : t.current : null === (s = this.textRefs[this.iteration - 1]) || void 0 === s ? void 0 : s.current;\n    var e, r;\n    i && (null === (e = (r = this.props).onText) || void 0 === e || e.call(r, i, this));\n  }\n\n  onStop() {\n    var t, s, i;\n    null === (t = (s = this.props).onStop) || void 0 === t || t.call(s, this), this.props.next && (null === (i = r.typos.get(this.props.next)) || void 0 === i || i.play());\n  }\n\n  render() {\n    return t.createElement(\"div\", {\n      className: this.props.className,\n      style: {\n        display: \"inline-block\"\n      }\n    }, this.texts);\n  }\n\n}\n\nr.typos = new Map();\nexport { e as Text, r as Typo };","map":{"version":3,"sources":["/home/vivien/Bureau/dev/node/typo/dist/index.modern.js"],"names":["t","Component","s","i","display","e","constructor","str","props","children","replaceAll","componentDidMount","parent","init","run","componentWillUnmount","clearInterval","interval","iteration","rewind","length","stopped","setState","onStart","pause","setTimeout","updateInterval","pace","whiteSpacePace","setInterval","play","checkForWhiteSpace","lastChar","r","stamp","p","createElement","style","className","charClassName","key","Date","now","onChar","stop","substr","split","map","animation","pop","push","slice","replay","show","loop","onStop","call","o","render","block","state","textRefs","first","typos","get","Array","from","values","some","next","name","console","log","initiated","forEach","current","texts","Children","createRef","Object","assign","ref","Math","random","toString","set","onText","Map","Text","Typo"],"mappings":"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","sourcesContent":["import t,{Component as s}from\"react\";const i={display:\"inline-block\"};class e extends s{constructor(t){super(t),this.str=(this.props.children||\"\").replaceAll(\" \",\" \")}componentDidMount(){this.props.parent||(this.init(),this.run())}componentWillUnmount(){clearInterval(this.interval)}init(){var t;this.iteration=!this.props.rewind||null!==(t=this.props.parent)&&void 0!==t&&t.props.rewind?0:this.str.length-1,this.stopped=!1,this.setState({display:null}),this.onStart()}run(){var t;const s=this.props.pause||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pause)||0;setTimeout(()=>{this.updateInterval()},s)}updateInterval(){var t,s;clearInterval(this.interval);let i=\" \"!=this.str[this.iteration]?this.props.pace||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pace)||40:this.props.whiteSpacePace||(null===(s=this.props.parent)||void 0===s?void 0:s.props.whiteSpacePace)||this.props.pace||40;this.interval=setInterval(()=>this.play(),i)}checkForWhiteSpace(){(\" \"==this.str[this.iteration]&&\" \"!=this.lastChar||\" \"!=this.str[this.iteration]&&\" \"==this.lastChar)&&this.updateInterval(),this.lastChar=this.str[this.iteration]}play(){if(this.checkForWhiteSpace(),!this.stopped){var s,e;const r=this.props.stamp||(null===(s=this.props.parent)||void 0===s?void 0:s.props.stamp),p=this.props.rewind||(null===(e=this.props.parent)||void 0===e?void 0:e.props.rewind);if(r)this.setState({display:t.createElement(\"span\",{style:i,className:this.props.charClassName,key:Date.now()},this.str)},()=>{this.iteration=p?0:this.props.children.length-1,this.onChar(),this.stop()});else{const s=this.str.substr(0,this.iteration+1).split(\"\");let e;p?(e=s.map((s,i)=>t.createElement(\"span\",{className:this.props.charClassName,style:{display:\"inline-block\",animation:\"none\"},key:i},s)),e.pop(),e.push(t.createElement(\"span\",{style:i,className:this.props.charClassName,key:Date.now()},s.slice(-1)))):e=s.map((s,e)=>t.createElement(\"span\",{style:i,className:this.props.charClassName,key:e},s)),this.setState({display:e},()=>{this.iteration+=p?-1:1,p&&this.iteration<-1||!p&&this.iteration>this.str.length?this.stop():this.onChar()})}}}replay(){this.init(),this.run()}show(){this.setState({display:this.str.split(\"\").map((s,e)=>t.createElement(\"span\",{style:i,key:e},s))})}stop(){this.props.loop?this.replay():(this.stopped=!0,this.onStop())}onStart(){var t,s;null===(t=(s=this.props).onStart)||void 0===t||t.call(s,this)}onChar(){var t,s,i,e,r,p;const o=(null===(t=this.props.parent)||void 0===t?void 0:t.props.rewind)||this.props.rewind?this.str[this.iteration+1]:this.str[this.iteration-1];null===(s=(i=this.props).onChar)||void 0===s||s.call(i,o,this),null===(e=this.props.parent)||void 0===e||null===(r=(p=e.props).onChar)||void 0===r||r.call(p,o,this.props.parent)}onStop(){var t,s,i,e;clearInterval(this.interval),null===(t=(s=this.props).onStop)||void 0===t||t.call(s,this),null===(i=this.props)||void 0===i||null===(e=i.parent)||void 0===e||e.play()}render(){var s;return t.createElement(\"div\",{className:this.props.className,style:{display:this.props.block?\"block\":\"inline-block\"}},(null===(s=this.state)||void 0===s?void 0:s.display)||\" \")}}class r extends s{constructor(t){super(t),this.textRefs=[],t.first&&(r.first=this),this.init()}static play(t){var s;null===(s=r.typos.get(t))||void 0===s||s.replay()}static stop(t){var s;null===(s=r.typos.get(t))||void 0===s||s.stop()}componentDidMount(){this.props.stop||Array.from(r.typos.values()).some(t=>t.props.next==this.name)&&r.first==this&&(console.log(this.name),this.init(),this.play())}init(){this.initiated=!1,this.textRefs.forEach(t=>{var s;return null===(s=t.current)||void 0===s?void 0:s.init()}),this.texts=t.Children.map(this.props.children,s=>{let i=t.createRef();return this.textRefs.push(i),t.createElement(e,Object.assign({},s.props,{ref:i,parent:this,rewind:this.props.rewind||s.props.rewind}),s.props.children||\"\")}),this.iteration=this.props.rewind?1==this.texts.length?0:this.texts.length-1:0,this.name=this.props.name||\"_\"+Math.random().toString(36).substr(2,9),r.typos.set(this.name,this)}play(){if(this.initiated||(this.onStart(),this.initiated=!0),this.props.rewind&&this.iteration<0||!this.props.rewind&&this.iteration>this.texts.length-1)this.stop();else{var t,s,i,e;if(this.props.rewind)for(let t=this.iteration;t>=0;t--){var r;null===(r=this.textRefs[t].current)||void 0===r||r.show()}null===(t=this.textRefs[this.iteration])||void 0===t||null===(s=t.current)||void 0===s||s.init(),null===(i=this.textRefs[this.iteration])||void 0===i||null===(e=i.current)||void 0===e||e.run(),this.iteration+=this.props.rewind?-1:1,this.onText()}}replay(){this.init(),this.play()}stop(){this.onStop()}onStart(){var t,s;null===(t=(s=this.props).onStart)||void 0===t||t.call(s,this)}onText(){var t,s;const i=this.props.rewind?null===(t=this.textRefs[this.iteration+1])||void 0===t?void 0:t.current:null===(s=this.textRefs[this.iteration-1])||void 0===s?void 0:s.current;var e,r;i&&(null===(e=(r=this.props).onText)||void 0===e||e.call(r,i,this))}onStop(){var t,s,i;null===(t=(s=this.props).onStop)||void 0===t||t.call(s,this),this.props.next&&(null===(i=r.typos.get(this.props.next))||void 0===i||i.play())}render(){return t.createElement(\"div\",{className:this.props.className,style:{display:\"inline-block\"}},this.texts)}}r.typos=new Map;export{e as Text,r as Typo};\n"]},"metadata":{},"sourceType":"module"}