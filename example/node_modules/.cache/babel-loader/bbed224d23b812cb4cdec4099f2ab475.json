{"ast":null,"code":"import t, { Component as i } from \"react\";\n\nfunction s(t, i) {\n  t.prototype = Object.create(i.prototype), t.prototype.constructor = t, (Object.setPrototypeOf || function (t, i) {\n    return t.__proto__ = i, t;\n  })(t, i);\n}\n\nvar n = {\n  display: \"inline-block\"\n},\n    r = function (i) {\n  function r(t) {\n    var s;\n    return (s = i.call(this, t) || this).str = (s.props.children || \"\").replaceAll(\" \", \" \"), s;\n  }\n\n  s(r, i);\n  var e = r.prototype;\n  return e.componentDidMount = function () {\n    this.props.parent || (this.init(), this.run());\n  }, e.componentWillUnmount = function () {\n    clearInterval(this.interval);\n  }, e.init = function () {\n    var t;\n    this.iteration = !this.props.rewind || null !== (t = this.props.parent) && void 0 !== t && t.props.rewind ? 0 : this.str.length - 1, this.stopped = !1, this.setState({\n      display: null\n    }), this.onStart();\n  }, e.run = function () {\n    var t,\n        i = this,\n        s = this.props.pause || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pause) || 0;\n    setTimeout(function () {\n      i.updateInterval();\n    }, s);\n  }, e.updateInterval = function () {\n    var t,\n        i,\n        s = this;\n    clearInterval(this.interval);\n    var n = \" \" != this.str[this.iteration] ? this.props.pace || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pace) || 40 : this.props.whiteSpacePace || (null === (i = this.props.parent) || void 0 === i ? void 0 : i.props.whiteSpacePace) || this.props.pace || 40;\n    this.interval = setInterval(function () {\n      return s.play();\n    }, n);\n  }, e.checkForWhiteSpace = function () {\n    (\" \" == this.str[this.iteration] && \" \" != this.lastChar || \" \" != this.str[this.iteration] && \" \" == this.lastChar) && this.updateInterval(), this.lastChar = this.str[this.iteration];\n  }, e.play = function () {\n    var i = this;\n\n    if (this.checkForWhiteSpace(), !this.stopped) {\n      var s,\n          r,\n          e = this.props.stamp || (null === (s = this.props.parent) || void 0 === s ? void 0 : s.props.stamp),\n          o = this.props.rewind || (null === (r = this.props.parent) || void 0 === r ? void 0 : r.props.rewind);\n      if (e) this.setState({\n        display: t.createElement(\"span\", {\n          style: n,\n          className: this.props.charClassName,\n          key: Date.now()\n        }, this.str)\n      }, function () {\n        i.iteration = o ? 0 : i.props.children.length - 1, i.onChar(), i.stop();\n      });else {\n        var p,\n            a = this.str.substr(0, this.iteration + 1).split(\"\");\n        o ? ((p = a.map(function (s, n) {\n          return t.createElement(\"span\", {\n            className: i.props.charClassName,\n            style: {\n              display: \"inline-block\",\n              animation: \"none\"\n            },\n            key: n\n          }, s);\n        })).pop(), p.push(t.createElement(\"span\", {\n          style: n,\n          className: this.props.charClassName,\n          key: Date.now()\n        }, a.slice(-1)))) : p = a.map(function (s, r) {\n          return t.createElement(\"span\", {\n            style: n,\n            className: i.props.charClassName,\n            key: r\n          }, s);\n        }), this.setState({\n          display: p\n        }, function () {\n          i.iteration += o ? -1 : 1, o && i.iteration < -1 || !o && i.iteration > i.str.length ? i.stop() : i.onChar();\n        });\n      }\n    }\n  }, e.replay = function () {\n    this.init(), this.run();\n  }, e.show = function () {\n    this.setState({\n      display: this.str.split(\"\").map(function (i, s) {\n        return t.createElement(\"span\", {\n          style: n,\n          key: s\n        }, i);\n      })\n    });\n  }, e.stop = function () {\n    this.props.loop ? this.replay() : (this.stopped = !0, this.onStop());\n  }, e.onStart = function () {\n    var t, i;\n    null === (t = (i = this.props).onStart) || void 0 === t || t.call(i, this);\n  }, e.onChar = function () {\n    var t,\n        i,\n        s,\n        n,\n        r,\n        e,\n        o = (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.rewind) || this.props.rewind ? this.str[this.iteration + 1] : this.str[this.iteration - 1];\n    null === (i = (s = this.props).onChar) || void 0 === i || i.call(s, o, this), null === (n = this.props.parent) || void 0 === n || null === (r = (e = n.props).onChar) || void 0 === r || r.call(e, o, this.props.parent);\n  }, e.onStop = function () {\n    var t, i, s, n;\n    clearInterval(this.interval), null === (t = (i = this.props).onStop) || void 0 === t || t.call(i, this), null === (s = this.props) || void 0 === s || null === (n = s.parent) || void 0 === n || n.play();\n  }, e.render = function () {\n    var i;\n    return t.createElement(\"div\", {\n      className: this.props.className,\n      style: {\n        display: this.props.block ? \"block\" : \"inline-block\"\n      }\n    }, (null === (i = this.state) || void 0 === i ? void 0 : i.display) || \" \");\n  }, r;\n}(i),\n    e = function (i) {\n  function n(t) {\n    var s;\n    return (s = i.call(this, t) || this).textRefs = [], s.init(), s;\n  }\n\n  s(n, i), n.play = function (t) {\n    var i;\n    null === (i = n.typos.get(t)) || void 0 === i || i.replay();\n  }, n.stop = function (t) {\n    var i;\n    null === (i = n.typos.get(t)) || void 0 === i || i.stop();\n  };\n  var e = n.prototype;\n  return e.componentDidMount = function () {\n    var t = this;\n    this.props.stop || Array.from(n.typos.values()).some(function (i) {\n      return i.props.next == t.name;\n    }) && n.first != this || (this.init(), this.play());\n  }, e.init = function () {\n    var i = this;\n    this.initiated = !1, this.textRefs.forEach(function (t) {\n      var i;\n      return null === (i = t.current) || void 0 === i ? void 0 : i.init();\n    }), this.texts = t.Children.map(this.props.children, function (s) {\n      var n = t.createRef();\n      return i.textRefs.push(n), t.createElement(r, Object.assign({}, s.props, {\n        ref: n,\n        parent: i,\n        rewind: i.props.rewind || s.props.rewind\n      }), s.props.children || \"\");\n    }), this.iteration = this.props.rewind ? 1 == this.texts.length ? 0 : this.texts.length - 1 : 0, this.name = this.props.name || \"_\" + Math.random().toString(36).substr(2, 9), n.typos.set(this.name, this), void 0 === n.first && (n.first = this);\n  }, e.play = function () {\n    if (this.initiated || (this.onStart(), this.initiated = !0), this.props.rewind && this.iteration < 0 || !this.props.rewind && this.iteration > this.texts.length - 1) this.stop();else {\n      var t, i, s, n;\n      if (this.props.rewind) for (var r = this.iteration; r >= 0; r--) {\n        var e;\n        null === (e = this.textRefs[r].current) || void 0 === e || e.show();\n      }\n      null === (t = this.textRefs[this.iteration]) || void 0 === t || null === (i = t.current) || void 0 === i || i.init(), null === (s = this.textRefs[this.iteration]) || void 0 === s || null === (n = s.current) || void 0 === n || n.run(), this.iteration += this.props.rewind ? -1 : 1, this.onText();\n    }\n  }, e.replay = function () {\n    this.init(), this.play();\n  }, e.stop = function () {\n    this.onStop();\n  }, e.onStart = function () {\n    var t, i;\n    null === (t = (i = this.props).onStart) || void 0 === t || t.call(i, this);\n  }, e.onText = function () {\n    var t,\n        i,\n        s,\n        n,\n        r = this.props.rewind ? null === (t = this.textRefs[this.iteration + 1]) || void 0 === t ? void 0 : t.current : null === (i = this.textRefs[this.iteration - 1]) || void 0 === i ? void 0 : i.current;\n    r && (null === (s = (n = this.props).onText) || void 0 === s || s.call(n, r, this));\n  }, e.onStop = function () {\n    var t, i, s;\n    null === (t = (i = this.props).onStop) || void 0 === t || t.call(i, this), this.props.next && (null === (s = n.typos.get(this.props.next)) || void 0 === s || s.play());\n  }, e.render = function () {\n    return t.createElement(\"div\", {\n      className: this.props.className,\n      style: {\n        display: \"inline-block\"\n      }\n    }, this.texts);\n  }, n;\n}(i);\n\ne.typos = new Map();\nexport { r as Text, e as Typo };","map":{"version":3,"sources":["/home/vivien/Bureau/dev/node/typo/dist/index.modern.js"],"names":["t","Component","i","s","prototype","Object","create","constructor","setPrototypeOf","__proto__","n","display","r","call","str","props","children","replaceAll","e","componentDidMount","parent","init","run","componentWillUnmount","clearInterval","interval","iteration","rewind","length","stopped","setState","onStart","pause","setTimeout","updateInterval","pace","whiteSpacePace","setInterval","play","checkForWhiteSpace","lastChar","stamp","o","createElement","style","className","charClassName","key","Date","now","onChar","stop","p","a","substr","split","map","animation","pop","push","slice","replay","show","loop","onStop","render","block","state","textRefs","typos","get","Array","from","values","some","next","name","first","initiated","forEach","current","texts","Children","createRef","assign","ref","Math","random","toString","set","onText","Map","Text","Typo"],"mappings":"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","sourcesContent":["import t,{Component as i}from\"react\";function s(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var n={display:\"inline-block\"},r=function(i){function r(t){var s;return(s=i.call(this,t)||this).str=(s.props.children||\"\").replaceAll(\" \",\" \"),s}s(r,i);var e=r.prototype;return e.componentDidMount=function(){this.props.parent||(this.init(),this.run())},e.componentWillUnmount=function(){clearInterval(this.interval)},e.init=function(){var t;this.iteration=!this.props.rewind||null!==(t=this.props.parent)&&void 0!==t&&t.props.rewind?0:this.str.length-1,this.stopped=!1,this.setState({display:null}),this.onStart()},e.run=function(){var t,i=this,s=this.props.pause||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pause)||0;setTimeout(function(){i.updateInterval()},s)},e.updateInterval=function(){var t,i,s=this;clearInterval(this.interval);var n=\" \"!=this.str[this.iteration]?this.props.pace||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pace)||40:this.props.whiteSpacePace||(null===(i=this.props.parent)||void 0===i?void 0:i.props.whiteSpacePace)||this.props.pace||40;this.interval=setInterval(function(){return s.play()},n)},e.checkForWhiteSpace=function(){(\" \"==this.str[this.iteration]&&\" \"!=this.lastChar||\" \"!=this.str[this.iteration]&&\" \"==this.lastChar)&&this.updateInterval(),this.lastChar=this.str[this.iteration]},e.play=function(){var i=this;if(this.checkForWhiteSpace(),!this.stopped){var s,r,e=this.props.stamp||(null===(s=this.props.parent)||void 0===s?void 0:s.props.stamp),o=this.props.rewind||(null===(r=this.props.parent)||void 0===r?void 0:r.props.rewind);if(e)this.setState({display:t.createElement(\"span\",{style:n,className:this.props.charClassName,key:Date.now()},this.str)},function(){i.iteration=o?0:i.props.children.length-1,i.onChar(),i.stop()});else{var p,a=this.str.substr(0,this.iteration+1).split(\"\");o?((p=a.map(function(s,n){return t.createElement(\"span\",{className:i.props.charClassName,style:{display:\"inline-block\",animation:\"none\"},key:n},s)})).pop(),p.push(t.createElement(\"span\",{style:n,className:this.props.charClassName,key:Date.now()},a.slice(-1)))):p=a.map(function(s,r){return t.createElement(\"span\",{style:n,className:i.props.charClassName,key:r},s)}),this.setState({display:p},function(){i.iteration+=o?-1:1,o&&i.iteration<-1||!o&&i.iteration>i.str.length?i.stop():i.onChar()})}}},e.replay=function(){this.init(),this.run()},e.show=function(){this.setState({display:this.str.split(\"\").map(function(i,s){return t.createElement(\"span\",{style:n,key:s},i)})})},e.stop=function(){this.props.loop?this.replay():(this.stopped=!0,this.onStop())},e.onStart=function(){var t,i;null===(t=(i=this.props).onStart)||void 0===t||t.call(i,this)},e.onChar=function(){var t,i,s,n,r,e,o=(null===(t=this.props.parent)||void 0===t?void 0:t.props.rewind)||this.props.rewind?this.str[this.iteration+1]:this.str[this.iteration-1];null===(i=(s=this.props).onChar)||void 0===i||i.call(s,o,this),null===(n=this.props.parent)||void 0===n||null===(r=(e=n.props).onChar)||void 0===r||r.call(e,o,this.props.parent)},e.onStop=function(){var t,i,s,n;clearInterval(this.interval),null===(t=(i=this.props).onStop)||void 0===t||t.call(i,this),null===(s=this.props)||void 0===s||null===(n=s.parent)||void 0===n||n.play()},e.render=function(){var i;return t.createElement(\"div\",{className:this.props.className,style:{display:this.props.block?\"block\":\"inline-block\"}},(null===(i=this.state)||void 0===i?void 0:i.display)||\" \")},r}(i),e=function(i){function n(t){var s;return(s=i.call(this,t)||this).textRefs=[],s.init(),s}s(n,i),n.play=function(t){var i;null===(i=n.typos.get(t))||void 0===i||i.replay()},n.stop=function(t){var i;null===(i=n.typos.get(t))||void 0===i||i.stop()};var e=n.prototype;return e.componentDidMount=function(){var t=this;this.props.stop||Array.from(n.typos.values()).some(function(i){return i.props.next==t.name})&&n.first!=this||(this.init(),this.play())},e.init=function(){var i=this;this.initiated=!1,this.textRefs.forEach(function(t){var i;return null===(i=t.current)||void 0===i?void 0:i.init()}),this.texts=t.Children.map(this.props.children,function(s){var n=t.createRef();return i.textRefs.push(n),t.createElement(r,Object.assign({},s.props,{ref:n,parent:i,rewind:i.props.rewind||s.props.rewind}),s.props.children||\"\")}),this.iteration=this.props.rewind?1==this.texts.length?0:this.texts.length-1:0,this.name=this.props.name||\"_\"+Math.random().toString(36).substr(2,9),n.typos.set(this.name,this),void 0===n.first&&(n.first=this)},e.play=function(){if(this.initiated||(this.onStart(),this.initiated=!0),this.props.rewind&&this.iteration<0||!this.props.rewind&&this.iteration>this.texts.length-1)this.stop();else{var t,i,s,n;if(this.props.rewind)for(var r=this.iteration;r>=0;r--){var e;null===(e=this.textRefs[r].current)||void 0===e||e.show()}null===(t=this.textRefs[this.iteration])||void 0===t||null===(i=t.current)||void 0===i||i.init(),null===(s=this.textRefs[this.iteration])||void 0===s||null===(n=s.current)||void 0===n||n.run(),this.iteration+=this.props.rewind?-1:1,this.onText()}},e.replay=function(){this.init(),this.play()},e.stop=function(){this.onStop()},e.onStart=function(){var t,i;null===(t=(i=this.props).onStart)||void 0===t||t.call(i,this)},e.onText=function(){var t,i,s,n,r=this.props.rewind?null===(t=this.textRefs[this.iteration+1])||void 0===t?void 0:t.current:null===(i=this.textRefs[this.iteration-1])||void 0===i?void 0:i.current;r&&(null===(s=(n=this.props).onText)||void 0===s||s.call(n,r,this))},e.onStop=function(){var t,i,s;null===(t=(i=this.props).onStop)||void 0===t||t.call(i,this),this.props.next&&(null===(s=n.typos.get(this.props.next))||void 0===s||s.play())},e.render=function(){return t.createElement(\"div\",{className:this.props.className,style:{display:\"inline-block\"}},this.texts)},n}(i);e.typos=new Map;export{r as Text,e as Typo};\n"]},"metadata":{},"sourceType":"module"}