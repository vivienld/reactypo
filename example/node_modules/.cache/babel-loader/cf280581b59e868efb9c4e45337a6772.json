{"ast":null,"code":"import _classCallCheck from \"/home/vivien/Bureau/dev/node/typo/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vivien/Bureau/dev/node/typo/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/vivien/Bureau/dev/node/typo/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/vivien/Bureau/dev/node/typo/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport t, { Component as s } from \"react\";\nvar i = {\n  display: \"inline-block\"\n};\n\nvar e = /*#__PURE__*/function (_s) {\n  _inherits(e, _s);\n\n  var _super = _createSuper(e);\n\n  function e(t) {\n    var _this;\n\n    _classCallCheck(this, e);\n\n    _this = _super.call(this, t), _this.str = (_this.props.children || \"\").replaceAll(\" \", \" \");\n    return _this;\n  }\n\n  _createClass(e, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.parent || (this.init(), this.run());\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var t;\n      this.iteration = !this.props.rewind || null !== (t = this.props.parent) && void 0 !== t && t.props.rewind ? 0 : this.str.length - 1, this.stopped = !1, this.setState({\n        display: null\n      }), this.onStart();\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this2 = this;\n\n      var t;\n      var s = this.props.pause || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pause) || 0;\n      setTimeout(function () {\n        _this2.updateInterval();\n      }, s);\n    }\n  }, {\n    key: \"updateInterval\",\n    value: function updateInterval() {\n      var _this3 = this;\n\n      var t, s;\n      clearInterval(this.interval);\n      var i = \" \" != this.str[this.iteration] ? this.props.pace || (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.pace) || 40 : this.props.whiteSpacePace || (null === (s = this.props.parent) || void 0 === s ? void 0 : s.props.whiteSpacePace) || this.props.pace || 40;\n      this.interval = setInterval(function () {\n        return _this3.play();\n      }, i);\n    }\n  }, {\n    key: \"checkForWhiteSpace\",\n    value: function checkForWhiteSpace() {\n      (\" \" == this.str[this.iteration] && \" \" != this.lastChar || \" \" != this.str[this.iteration] && \" \" == this.lastChar) && this.updateInterval(), this.lastChar = this.str[this.iteration];\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this4 = this;\n\n      if (this.checkForWhiteSpace(), !this.stopped) {\n        var s, _e;\n\n        var _r = this.props.stamp || (null === (s = this.props.parent) || void 0 === s ? void 0 : s.props.stamp),\n            p = this.props.rewind || (null === (_e = this.props.parent) || void 0 === _e ? void 0 : _e.props.rewind);\n\n        if (_r) this.setState({\n          display: t.createElement(\"span\", {\n            style: i,\n            className: this.props.charClassName,\n            key: Date.now()\n          }, this.str)\n        }, function () {\n          _this4.iteration = p ? 0 : _this4.props.children.length - 1, _this4.onChar(), _this4.stop();\n        });else {\n          var _s2 = this.str.substr(0, this.iteration + 1).split(\"\");\n\n          var _e7;\n\n          p ? (_e7 = _s2.map(function (s, i) {\n            return t.createElement(\"span\", {\n              className: _this4.props.charClassName,\n              style: {\n                display: \"inline-block\",\n                animation: \"none\"\n              },\n              key: i\n            }, s);\n          }), _e7.pop(), _e7.push(t.createElement(\"span\", {\n            style: i,\n            className: this.props.charClassName,\n            key: Date.now()\n          }, _s2.slice(-1)))) : _e7 = _s2.map(function (s, _e3) {\n            return t.createElement(\"span\", {\n              style: i,\n              className: _this4.props.charClassName,\n              key: _e3\n            }, s);\n          }), this.setState({\n            display: _e7\n          }, function () {\n            _this4.iteration += p ? -1 : 1, p && _this4.iteration < -1 || !p && _this4.iteration > _this4.str.length ? _this4.stop() : _this4.onChar();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      this.init(), this.run();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.setState({\n        display: this.str.split(\"\").map(function (s, _e4) {\n          return t.createElement(\"span\", {\n            style: i,\n            key: _e4\n          }, s);\n        })\n      });\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.props.loop ? this.replay() : (this.stopped = !0, this.onStop());\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart() {\n      var t, s;\n      null === (t = (s = this.props).onStart) || void 0 === t || t.call(s, this);\n    }\n  }, {\n    key: \"onChar\",\n    value: function onChar() {\n      var t, s, i, _e5, r, p;\n\n      var o = (null === (t = this.props.parent) || void 0 === t ? void 0 : t.props.rewind) || this.props.rewind ? this.str[this.iteration + 1] : this.str[this.iteration - 1];\n      null === (s = (i = this.props).onChar) || void 0 === s || s.call(i, o, this), null === (_e5 = this.props.parent) || void 0 === _e5 || null === (r = (p = _e5.props).onChar) || void 0 === r || r.call(p, o, this.props.parent);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      var t, s, i, _e6;\n\n      clearInterval(this.interval), null === (t = (s = this.props).onStop) || void 0 === t || t.call(s, this), null === (i = this.props) || void 0 === i || null === (_e6 = i.parent) || void 0 === _e6 || _e6.play();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var s;\n      return t.createElement(\"div\", {\n        className: this.props.className,\n        style: {\n          display: this.props.block ? \"block\" : \"inline-block\"\n        }\n      }, (null === (s = this.state) || void 0 === s ? void 0 : s.display) || \" \");\n    }\n  }]);\n\n  return e;\n}(s);\n\nvar r = /*#__PURE__*/function (_s3) {\n  _inherits(r, _s3);\n\n  var _super2 = _createSuper(r);\n\n  function r(t) {\n    var _this5;\n\n    _classCallCheck(this, r);\n\n    _this5 = _super2.call(this, t), _this5.textRefs = [], _this5.init();\n    return _this5;\n  }\n\n  _createClass(r, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this6 = this;\n\n      this.props.stop || Array.from(r.typos.values()).some(function (t) {\n        return t.props.next == _this6.name;\n      }) && r.first != this || (this.init(), this.play());\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this7 = this;\n\n      this.initiated = !1, this.textRefs.forEach(function (t) {\n        var s;\n        return null === (s = t.current) || void 0 === s ? void 0 : s.init();\n      }), this.texts = t.Children.map(this.props.children, function (s) {\n        var i = t.createRef();\n        return _this7.textRefs.push(i), t.createElement(e, Object.assign({}, s.props, {\n          ref: i,\n          parent: _this7,\n          rewind: _this7.props.rewind || s.props.rewind\n        }), s.props.children || \"\");\n      }), this.iteration = this.props.rewind ? 1 == this.texts.length ? 0 : this.texts.length - 1 : 0, this.name = this.props.name || \"_\" + Math.random().toString(36).substr(2, 9), r.typos.set(this.name, this), void 0 === r.first && (r.first = this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      if (this.initiated || (this.onStart(), this.initiated = !0), this.props.rewind && this.iteration < 0 || !this.props.rewind && this.iteration > this.texts.length - 1) this.stop();else {\n        var t, s, i, e;\n        if (this.props.rewind) for (var _t = this.iteration; _t >= 0; _t--) {\n          var _r2;\n\n          null === (_r2 = this.textRefs[_t].current) || void 0 === _r2 || _r2.show();\n        }\n        null === (t = this.textRefs[this.iteration]) || void 0 === t || null === (s = t.current) || void 0 === s || s.init(), null === (i = this.textRefs[this.iteration]) || void 0 === i || null === (e = i.current) || void 0 === e || e.run(), this.iteration += this.props.rewind ? -1 : 1, this.onText();\n      }\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      this.init(), this.play();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.onStop();\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart() {\n      var t, s;\n      null === (t = (s = this.props).onStart) || void 0 === t || t.call(s, this);\n    }\n  }, {\n    key: \"onText\",\n    value: function onText() {\n      var t, s;\n      var i = this.props.rewind ? null === (t = this.textRefs[this.iteration + 1]) || void 0 === t ? void 0 : t.current : null === (s = this.textRefs[this.iteration - 1]) || void 0 === s ? void 0 : s.current;\n\n      var e, _r3;\n\n      i && (null === (e = (_r3 = this.props).onText) || void 0 === e || e.call(_r3, i, this));\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      var t, s, i;\n      null === (t = (s = this.props).onStop) || void 0 === t || t.call(s, this), this.props.next && (null === (i = r.typos.get(this.props.next)) || void 0 === i || i.play());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return t.createElement(\"div\", {\n        className: this.props.className,\n        style: {\n          display: \"inline-block\"\n        }\n      }, this.texts);\n    }\n  }], [{\n    key: \"play\",\n    value: function play(t) {\n      var s;\n      null === (s = r.typos.get(t)) || void 0 === s || s.replay();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(t) {\n      var s;\n      null === (s = r.typos.get(t)) || void 0 === s || s.stop();\n    }\n  }]);\n\n  return r;\n}(s);\n\nr.typos = new Map();\nexport { e as Text, r as Typo };","map":{"version":3,"sources":["/home/vivien/Bureau/dev/node/typo/dist/index.modern.js"],"names":["t","Component","s","i","display","e","str","props","children","replaceAll","parent","init","run","clearInterval","interval","iteration","rewind","length","stopped","setState","onStart","pause","setTimeout","updateInterval","pace","whiteSpacePace","setInterval","play","lastChar","checkForWhiteSpace","r","stamp","p","createElement","style","className","charClassName","key","Date","now","onChar","stop","substr","split","map","animation","pop","push","slice","loop","replay","onStop","call","o","block","state","textRefs","Array","from","typos","values","some","next","name","first","initiated","forEach","current","texts","Children","createRef","Object","assign","ref","Math","random","toString","set","show","onText","get","Map","Text","Typo"],"mappings":"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","sourcesContent":["import t,{Component as s}from\"react\";const i={display:\"inline-block\"};class e extends s{constructor(t){super(t),this.str=(this.props.children||\"\").replaceAll(\" \",\" \")}componentDidMount(){this.props.parent||(this.init(),this.run())}componentWillUnmount(){clearInterval(this.interval)}init(){var t;this.iteration=!this.props.rewind||null!==(t=this.props.parent)&&void 0!==t&&t.props.rewind?0:this.str.length-1,this.stopped=!1,this.setState({display:null}),this.onStart()}run(){var t;const s=this.props.pause||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pause)||0;setTimeout(()=>{this.updateInterval()},s)}updateInterval(){var t,s;clearInterval(this.interval);let i=\" \"!=this.str[this.iteration]?this.props.pace||(null===(t=this.props.parent)||void 0===t?void 0:t.props.pace)||40:this.props.whiteSpacePace||(null===(s=this.props.parent)||void 0===s?void 0:s.props.whiteSpacePace)||this.props.pace||40;this.interval=setInterval(()=>this.play(),i)}checkForWhiteSpace(){(\" \"==this.str[this.iteration]&&\" \"!=this.lastChar||\" \"!=this.str[this.iteration]&&\" \"==this.lastChar)&&this.updateInterval(),this.lastChar=this.str[this.iteration]}play(){if(this.checkForWhiteSpace(),!this.stopped){var s,e;const r=this.props.stamp||(null===(s=this.props.parent)||void 0===s?void 0:s.props.stamp),p=this.props.rewind||(null===(e=this.props.parent)||void 0===e?void 0:e.props.rewind);if(r)this.setState({display:t.createElement(\"span\",{style:i,className:this.props.charClassName,key:Date.now()},this.str)},()=>{this.iteration=p?0:this.props.children.length-1,this.onChar(),this.stop()});else{const s=this.str.substr(0,this.iteration+1).split(\"\");let e;p?(e=s.map((s,i)=>t.createElement(\"span\",{className:this.props.charClassName,style:{display:\"inline-block\",animation:\"none\"},key:i},s)),e.pop(),e.push(t.createElement(\"span\",{style:i,className:this.props.charClassName,key:Date.now()},s.slice(-1)))):e=s.map((s,e)=>t.createElement(\"span\",{style:i,className:this.props.charClassName,key:e},s)),this.setState({display:e},()=>{this.iteration+=p?-1:1,p&&this.iteration<-1||!p&&this.iteration>this.str.length?this.stop():this.onChar()})}}}replay(){this.init(),this.run()}show(){this.setState({display:this.str.split(\"\").map((s,e)=>t.createElement(\"span\",{style:i,key:e},s))})}stop(){this.props.loop?this.replay():(this.stopped=!0,this.onStop())}onStart(){var t,s;null===(t=(s=this.props).onStart)||void 0===t||t.call(s,this)}onChar(){var t,s,i,e,r,p;const o=(null===(t=this.props.parent)||void 0===t?void 0:t.props.rewind)||this.props.rewind?this.str[this.iteration+1]:this.str[this.iteration-1];null===(s=(i=this.props).onChar)||void 0===s||s.call(i,o,this),null===(e=this.props.parent)||void 0===e||null===(r=(p=e.props).onChar)||void 0===r||r.call(p,o,this.props.parent)}onStop(){var t,s,i,e;clearInterval(this.interval),null===(t=(s=this.props).onStop)||void 0===t||t.call(s,this),null===(i=this.props)||void 0===i||null===(e=i.parent)||void 0===e||e.play()}render(){var s;return t.createElement(\"div\",{className:this.props.className,style:{display:this.props.block?\"block\":\"inline-block\"}},(null===(s=this.state)||void 0===s?void 0:s.display)||\" \")}}class r extends s{constructor(t){super(t),this.textRefs=[],this.init()}static play(t){var s;null===(s=r.typos.get(t))||void 0===s||s.replay()}static stop(t){var s;null===(s=r.typos.get(t))||void 0===s||s.stop()}componentDidMount(){this.props.stop||Array.from(r.typos.values()).some(t=>t.props.next==this.name)&&r.first!=this||(this.init(),this.play())}init(){this.initiated=!1,this.textRefs.forEach(t=>{var s;return null===(s=t.current)||void 0===s?void 0:s.init()}),this.texts=t.Children.map(this.props.children,s=>{let i=t.createRef();return this.textRefs.push(i),t.createElement(e,Object.assign({},s.props,{ref:i,parent:this,rewind:this.props.rewind||s.props.rewind}),s.props.children||\"\")}),this.iteration=this.props.rewind?1==this.texts.length?0:this.texts.length-1:0,this.name=this.props.name||\"_\"+Math.random().toString(36).substr(2,9),r.typos.set(this.name,this),void 0===r.first&&(r.first=this)}play(){if(this.initiated||(this.onStart(),this.initiated=!0),this.props.rewind&&this.iteration<0||!this.props.rewind&&this.iteration>this.texts.length-1)this.stop();else{var t,s,i,e;if(this.props.rewind)for(let t=this.iteration;t>=0;t--){var r;null===(r=this.textRefs[t].current)||void 0===r||r.show()}null===(t=this.textRefs[this.iteration])||void 0===t||null===(s=t.current)||void 0===s||s.init(),null===(i=this.textRefs[this.iteration])||void 0===i||null===(e=i.current)||void 0===e||e.run(),this.iteration+=this.props.rewind?-1:1,this.onText()}}replay(){this.init(),this.play()}stop(){this.onStop()}onStart(){var t,s;null===(t=(s=this.props).onStart)||void 0===t||t.call(s,this)}onText(){var t,s;const i=this.props.rewind?null===(t=this.textRefs[this.iteration+1])||void 0===t?void 0:t.current:null===(s=this.textRefs[this.iteration-1])||void 0===s?void 0:s.current;var e,r;i&&(null===(e=(r=this.props).onText)||void 0===e||e.call(r,i,this))}onStop(){var t,s,i;null===(t=(s=this.props).onStop)||void 0===t||t.call(s,this),this.props.next&&(null===(i=r.typos.get(this.props.next))||void 0===i||i.play())}render(){return t.createElement(\"div\",{className:this.props.className,style:{display:\"inline-block\"}},this.texts)}}r.typos=new Map;export{e as Text,r as Typo};\n"]},"metadata":{},"sourceType":"module"}